---
layout:     post
title:      智能合约代替OTC市场
subtitle:   
date:       2019-12-10
author:     土猪
header-img: img/post_smart_contract.jpg
catalog: true
tags:
    - 区块链
---

研究区块链好久，我觉得它最能区别和颠覆传统中心化系统的地方就是智能合约，没有这个东西，区块链的价值要大大缩水。 我把智能合约想象成是一个可以信赖的中介公司，我们应该争取用智能合约替代目前的各种中介公司，年初，我想了个系统，用智能合约来做买卖数字货币的中间经手方，有点类似目前的支付宝和paypal。 买家发出买币的订单，这个订单被卖家拿去，那么买家的稳定币就被放到智能合约当中，直到卖家把币打到买家账户，被买家确认后 ，这些稳定币才会从智能合约中释放给卖家。  如果是有人要卖数字货币，发出卖单后，被买家拿了这个订单，买家的稳定币就被打到智能合约去，直到买家确认收到数字货币，稳定币才被释放到卖家的账户上。  





这是个很有意思的系统，经过哥一手开发，调试和测试通过，放到了[我个人的github上](https://github.com/chenlocus/decentralize_centralized_exchanges)上，现在又有些淡忘了，所以想在一个新机器上复现所有过程，把这个过程记录下来，以后有类似需求，可以照葫芦画瓢，少死很多脑细胞。 我觉得这个就像youtube上很多人教别人怎么自己铺地板，做fence和怎么做饭是一样的道理，没有很深奥的科技含量。




在试验网上需要有两个合约，一个是作为买卖中介的智能合约，另外一个是模拟现实中的稳定币合约。 稳定币合约很好搞，在[这里](https://github.com/OpenZeppelin/openzeppelin-contracts)有完整的，经过检验的代码可以复用。